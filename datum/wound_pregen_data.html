<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/wound_pregen_data - Космическая Стацния 13</title></head><body><header><a href="index.html">Космическая Стацния 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/wound_pregen_data.html#var">Var Details</a> - <a href="datum/wound_pregen_data.html#proc">Proc Details</a></header><main><h1>wound_pregen_data <aside>/<a href="datum.html">datum</a>/<a href="datum/wound_pregen_data.html">wound_pregen_data</a></aside> <a href="https://github.com/Reworkin/Andromeda-byond/blob/3b0c78e04fd36f9475eab5e700d67a897576bca3/code/datums/wounds/_wound_static_data.dm#L6"><img src="git.png" width="16" height="16" title="code/datums/wounds/_wound_static_data.dm 6"></a></h1><p>Одиночный датум, который хранит предварительно сгенерированные и статические данные о ране. Каждый датум раны должен иметь соответствующий wound_pregen_data.</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/wound_pregen_data.html#var/abstract">abstract</a></th><td>Будет ли этот датум инстанцирован?</td></tr><tr><th><a href="datum/wound_pregen_data.html#var/can_be_randomly_generated">can_be_randomly_generated</a></th><td>Если true, наша рана может быть выбрана при обычном случайном создании ран. Если false, наша рана может быть создана только прямым указанием её пути.</td></tr><tr><th><a href="datum/wound_pregen_data.html#var/compete_for_wounding">compete_for_wounding</a></th><td>Если true, мы попытаемся во время случайного создания раны &quot;пересилить&quot; и удалить другие типы ран из списка возможных, используя competition_mode.</td></tr><tr><th><a href="datum/wound_pregen_data.html#var/competition_mode">competition_mode</a></th><td>Режим конкуренции, с которым мы будем удалять другие раны из возможного списка при условии, что [compete_for_wounding] равен TRUE. Смотри wounds.dm, файл с дефайнами, для информации о том, что они делают.</td></tr><tr><th><a href="datum/wound_pregen_data.html#var/duplicates_allowed">duplicates_allowed</a></th><td>Если false, мы пройдемся по ранам на данной конечности, и если найдется совпадение по типу, мы не добавим нашу рану.</td></tr><tr><th><a href="datum/wound_pregen_data.html#var/ignore_cannot_bleed">ignore_cannot_bleed</a></th><td>Если мы требуем BIO_BLOODED, мы не добавим нашу рану, если это true и конечность не может кровоточить.</td></tr><tr><th><a href="datum/wound_pregen_data.html#var/require_any_biostate">require_any_biostate</a></th><td>Если false, мы будем проверять, имеет ли конечность ВСЕ наши требуемые биологические состояния, а не ЛЮБОЕ из них.</td></tr><tr><th><a href="datum/wound_pregen_data.html#var/required_limb_biostate">required_limb_biostate</a></th><td>Список биологических состояний, которые конечность должна иметь, чтобы получить нашу рану. Определяется в wounds.dm.</td></tr><tr><th><a href="datum/wound_pregen_data.html#var/required_wounding_type">required_wounding_type</a></th><td>Тип атаки, который может создать эту рану.
Например: WOUND_SLASH = острая атака может вызвать это, WOUND_BLUNT = атака без остроты/атака с остротой против конечности с изувеченной внешней частью может вызвать это.</td></tr><tr><th><a href="datum/wound_pregen_data.html#var/scar_priorities">scar_priorities</a></th><td>Список BIO_ дефайнов, который будет перебираться по порядку для определения файла шрама, который наша рана создаст.
Используйте generate_scar_priorities для создания кастомного списка.</td></tr><tr><th><a href="datum/wound_pregen_data.html#var/threshold_minimum">threshold_minimum</a></th><td>Минимальный бросок травмы, который атака должна получить, чтобы создать нас. Зависит от threshold_penalty и series_threshold_penalty нашей раны, а также от wound_bonus атаки. См. check_wounding_mods().</td></tr><tr><th><a href="datum/wound_pregen_data.html#var/viable_zones">viable_zones</a></th><td>Список зон тела, к которым мы применимы.</td></tr><tr><th><a href="datum/wound_pregen_data.html#var/weight">weight</a></th><td>Вес, который будет использоваться, если в конце выбора ран останется несколько валидных ран. Будет вставлен в pick_weight, поэтому используйте целые числа.</td></tr><tr><th><a href="datum/wound_pregen_data.html#var/wound_path_to_generate">wound_path_to_generate</a></th><td>Путь к типу раны, которую мы будем обрабатывать и хранить данные о ней. НЕОБХОДИМО, ЕСЛИ ЭТО НЕ АБСТРАКТНЫЙ ТИП!</td></tr><tr><th><a href="datum/wound_pregen_data.html#var/wound_series">wound_series</a></th><td>Серия ран, к которой это относится. Смотри wounds.dm (файл с дефайнами) для более подробного объяснения - но вкратце: не может быть двух ран одной серии на конечности.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/wound_pregen_data.html#proc/biostate_valid">biostate_valid</a></th><td>Возвращает true, если мы имеем данные биологические состояния, или ЛЮБОЕ из них, если check_for_any равно true. False в противном случае.</td></tr><tr><th><a href="datum/wound_pregen_data.html#proc/can_be_applied_to">can_be_applied_to</a></th><td>Аргументы:</td></tr><tr><th><a href="datum/wound_pregen_data.html#proc/generate_instance">generate_instance</a></th><td>Возвращает новый экземпляр нашего датума раны.</td></tr><tr><th><a href="datum/wound_pregen_data.html#proc/generate_scar_priorities">generate_scar_priorities</a></th><td>Должен возвращать список BIO_ биологических состояний в порядке приоритета. Смотри [scar_priorities] для дальнейшей документации.</td></tr><tr><th><a href="datum/wound_pregen_data.html#proc/get_threshold_for">get_threshold_for</a></th><td>Простой геттер для [threshold_minimum], с предоставленными аргументами для возможности кастомного поведения.</td></tr><tr><th><a href="datum/wound_pregen_data.html#proc/get_weight">get_weight</a></th><td>Простой геттер для [weight], с предоставленными аргументами для возможности кастомного поведения.</td></tr><tr><th><a href="datum/wound_pregen_data.html#proc/wounding_types_valid">wounding_types_valid</a></th><td>Возвращает TRUE, если мы используем WOUND_ALL или наш тип ранения</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/abstract"><aside class="declaration">var </aside>abstract <a href="https://github.com/Reworkin/Andromeda-byond/blob/3b0c78e04fd36f9475eab5e700d67a897576bca3/code/datums/wounds/_wound_static_data.dm#L11"><img src="git.png" width="16" height="16" title="code/datums/wounds/_wound_static_data.dm 11"></a></h3><p>Будет ли этот датум инстанцирован?</p><h3 id="var/can_be_randomly_generated"><aside class="declaration">var </aside>can_be_randomly_generated <a href="https://github.com/Reworkin/Andromeda-byond/blob/3b0c78e04fd36f9475eab5e700d67a897576bca3/code/datums/wounds/_wound_static_data.dm#L14"><img src="git.png" width="16" height="16" title="code/datums/wounds/_wound_static_data.dm 14"></a></h3><p>Если true, наша рана может быть выбрана при обычном случайном создании ран. Если false, наша рана может быть создана только прямым указанием её пути.</p><h3 id="var/compete_for_wounding"><aside class="declaration">var </aside>compete_for_wounding <a href="https://github.com/Reworkin/Andromeda-byond/blob/3b0c78e04fd36f9475eab5e700d67a897576bca3/code/datums/wounds/_wound_static_data.dm#L43"><img src="git.png" width="16" height="16" title="code/datums/wounds/_wound_static_data.dm 43"></a></h3><p>Если true, мы попытаемся во время случайного создания раны &quot;пересилить&quot; и удалить другие типы ран из списка возможных, используя competition_mode.</p><h3 id="var/competition_mode"><aside class="declaration">var </aside>competition_mode <a href="https://github.com/Reworkin/Andromeda-byond/blob/3b0c78e04fd36f9475eab5e700d67a897576bca3/code/datums/wounds/_wound_static_data.dm#L45"><img src="git.png" width="16" height="16" title="code/datums/wounds/_wound_static_data.dm 45"></a></h3><p>Режим конкуренции, с которым мы будем удалять другие раны из возможного списка при условии, что [compete_for_wounding] равен TRUE. Смотри wounds.dm, файл с дефайнами, для информации о том, что они делают.</p><h3 id="var/duplicates_allowed"><aside class="declaration">var </aside>duplicates_allowed <a href="https://github.com/Reworkin/Andromeda-byond/blob/3b0c78e04fd36f9475eab5e700d67a897576bca3/code/datums/wounds/_wound_static_data.dm#L22"><img src="git.png" width="16" height="16" title="code/datums/wounds/_wound_static_data.dm 22"></a></h3><p>Если false, мы пройдемся по ранам на данной конечности, и если найдется совпадение по типу, мы не добавим нашу рану.</p><h3 id="var/ignore_cannot_bleed"><aside class="declaration">var </aside>ignore_cannot_bleed <a href="https://github.com/Reworkin/Andromeda-byond/blob/3b0c78e04fd36f9475eab5e700d67a897576bca3/code/datums/wounds/_wound_static_data.dm#L25"><img src="git.png" width="16" height="16" title="code/datums/wounds/_wound_static_data.dm 25"></a></h3><p>Если мы требуем BIO_BLOODED, мы не добавим нашу рану, если это true и конечность не может кровоточить.</p><h3 id="var/require_any_biostate"><aside class="declaration">var </aside>require_any_biostate <a href="https://github.com/Reworkin/Andromeda-byond/blob/3b0c78e04fd36f9475eab5e700d67a897576bca3/code/datums/wounds/_wound_static_data.dm#L19"><img src="git.png" width="16" height="16" title="code/datums/wounds/_wound_static_data.dm 19"></a></h3><p>Если false, мы будем проверять, имеет ли конечность ВСЕ наши требуемые биологические состояния, а не ЛЮБОЕ из них.</p><h3 id="var/required_limb_biostate"><aside class="declaration">var </aside>required_limb_biostate <a href="https://github.com/Reworkin/Andromeda-byond/blob/3b0c78e04fd36f9475eab5e700d67a897576bca3/code/datums/wounds/_wound_static_data.dm#L17"><img src="git.png" width="16" height="16" title="code/datums/wounds/_wound_static_data.dm 17"></a></h3><p>Список биологических состояний, которые конечность должна иметь, чтобы получить нашу рану. Определяется в wounds.dm.</p><h3 id="var/required_wounding_type"><aside class="declaration">var </aside>required_wounding_type <a href="https://github.com/Reworkin/Andromeda-byond/blob/3b0c78e04fd36f9475eab5e700d67a897576bca3/code/datums/wounds/_wound_static_data.dm#L31"><img src="git.png" width="16" height="16" title="code/datums/wounds/_wound_static_data.dm 31"></a></h3><p>Тип атаки, который может создать эту рану.
Например: WOUND_SLASH = острая атака может вызвать это, WOUND_BLUNT = атака без остроты/атака с остротой против конечности с изувеченной внешней частью может вызвать это.</p><h3 id="var/scar_priorities"><aside class="declaration">var </aside>scar_priorities <aside>– /list</aside> <a href="https://github.com/Reworkin/Andromeda-byond/blob/3b0c78e04fd36f9475eab5e700d67a897576bca3/code/datums/wounds/_wound_static_data.dm#L49"><img src="git.png" width="16" height="16" title="code/datums/wounds/_wound_static_data.dm 49"></a></h3><p>Список BIO_ дефайнов, который будет перебираться по порядку для определения файла шрама, который наша рана создаст.
Используйте generate_scar_priorities для создания кастомного списка.</p><h3 id="var/threshold_minimum"><aside class="declaration">var </aside>threshold_minimum <a href="https://github.com/Reworkin/Andromeda-byond/blob/3b0c78e04fd36f9475eab5e700d67a897576bca3/code/datums/wounds/_wound_static_data.dm#L37"><img src="git.png" width="16" height="16" title="code/datums/wounds/_wound_static_data.dm 37"></a></h3><p>Минимальный бросок травмы, который атака должна получить, чтобы создать нас. Зависит от threshold_penalty и series_threshold_penalty нашей раны, а также от wound_bonus атаки. См. check_wounding_mods().</p><h3 id="var/viable_zones"><aside class="declaration">var </aside>viable_zones <aside>– /list</aside> <a href="https://github.com/Reworkin/Andromeda-byond/blob/3b0c78e04fd36f9475eab5e700d67a897576bca3/code/datums/wounds/_wound_static_data.dm#L28"><img src="git.png" width="16" height="16" title="code/datums/wounds/_wound_static_data.dm 28"></a></h3><p>Список зон тела, к которым мы применимы.</p><h3 id="var/weight"><aside class="declaration">var </aside>weight <a href="https://github.com/Reworkin/Andromeda-byond/blob/3b0c78e04fd36f9475eab5e700d67a897576bca3/code/datums/wounds/_wound_static_data.dm#L34"><img src="git.png" width="16" height="16" title="code/datums/wounds/_wound_static_data.dm 34"></a></h3><p>Вес, который будет использоваться, если в конце выбора ран останется несколько валидных ран. Будет вставлен в pick_weight, поэтому используйте целые числа.</p><h3 id="var/wound_path_to_generate"><aside class="declaration">var </aside>wound_path_to_generate <aside>– /<a href="datum.html">datum</a>/<a href="datum/wound.html">wound</a></aside> <a href="https://github.com/Reworkin/Andromeda-byond/blob/3b0c78e04fd36f9475eab5e700d67a897576bca3/code/datums/wounds/_wound_static_data.dm#L8"><img src="git.png" width="16" height="16" title="code/datums/wounds/_wound_static_data.dm 8"></a></h3><p>Путь к типу раны, которую мы будем обрабатывать и хранить данные о ней. НЕОБХОДИМО, ЕСЛИ ЭТО НЕ АБСТРАКТНЫЙ ТИП!</p><h3 id="var/wound_series"><aside class="declaration">var </aside>wound_series <a href="https://github.com/Reworkin/Andromeda-byond/blob/3b0c78e04fd36f9475eab5e700d67a897576bca3/code/datums/wounds/_wound_static_data.dm#L40"><img src="git.png" width="16" height="16" title="code/datums/wounds/_wound_static_data.dm 40"></a></h3><p>Серия ран, к которой это относится. Смотри wounds.dm (файл с дефайнами) для более подробного объяснения - но вкратце: не может быть двух ран одной серии на конечности.</p><h2 id="proc">Proc Details</h2><h3 id="proc/biostate_valid"><aside class="declaration">proc </aside>biostate_valid<aside>(biostate)  <a href="https://github.com/Reworkin/Andromeda-byond/blob/3b0c78e04fd36f9475eab5e700d67a897576bca3/code/datums/wounds/_wound_static_data.dm#L123"><img src="git.png" width="16" height="16" title="code/datums/wounds/_wound_static_data.dm 123"></a></aside></h3><p>Возвращает true, если мы имеем данные биологические состояния, или ЛЮБОЕ из них, если check_for_any равно true. False в противном случае.</p><h3 id="proc/can_be_applied_to"><aside class="declaration">proc </aside>can_be_applied_to<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/bodypart.html">bodypart</a>/limb, suggested_wounding_type, /<a href="datum.html">datum</a>/<a href="datum/wound.html">wound</a>/old_wound, random_roll, duplicates_allowed, care_about_existing_wounds)  <a href="https://github.com/Reworkin/Andromeda-byond/blob/3b0c78e04fd36f9475eab5e700d67a897576bca3/code/datums/wounds/_wound_static_data.dm#L86"><img src="git.png" width="16" height="16" title="code/datums/wounds/_wound_static_data.dm 86"></a></aside></h3><p>Аргументы:</p>
<ul>
<li>obj/item/bodypart/limb: Конечность, которую мы рассматриваем.</li>
<li>suggested_wounding_type: Тип ранения для проверки против требуемого нами типа ранения. По умолчанию required_wounding_type.</li>
<li>datum/wound/old_wound: Если бы мы заменяли рану, это была бы старая рана. Может быть null.</li>
<li>random_roll = FALSE: Если это в контексте случайного создания раны, и эта рана не была проверена специально.</li>
</ul>
<p>Возвращает:
FALSE, если конечность не может быть ранена, если типы ранения не совпадают с нашими (через wounding_types_valid()), если у нас уже есть рана более высокой тяжести в нашей серии,
если есть несоответствие биологического типа, если конечность не в допустимой зоне, или если есть дублирующиеся типы ран.
TRUE в противном случае.</p><h3 id="proc/generate_instance"><aside class="declaration">proc </aside>generate_instance<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/bodypart.html">bodypart</a>/limb, ...) <span class="as"> as </span>/<a href="datum.html">datum</a>/<a href="datum/wound.html">wound</a> <a href="https://github.com/Reworkin/Andromeda-byond/blob/3b0c78e04fd36f9475eab5e700d67a897576bca3/code/datums/wounds/_wound_static_data.dm#L166"><img src="git.png" width="16" height="16" title="code/datums/wounds/_wound_static_data.dm 166"></a></aside></h3><p>Возвращает новый экземпляр нашего датума раны.</p><h3 id="proc/generate_scar_priorities"><aside class="declaration">proc </aside>generate_scar_priorities<aside>() <span class="as"> as </span>/list <a href="https://github.com/Reworkin/Andromeda-byond/blob/3b0c78e04fd36f9475eab5e700d67a897576bca3/code/datums/wounds/_wound_static_data.dm#L63"><img src="git.png" width="16" height="16" title="code/datums/wounds/_wound_static_data.dm 63"></a></aside></h3><p>Должен возвращать список BIO_ биологических состояний в порядке приоритета. Смотри [scar_priorities] для дальнейшей документации.</p><h3 id="proc/get_threshold_for"><aside class="declaration">proc </aside>get_threshold_for<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/bodypart.html">bodypart</a>/part, attack_direction, damage_source)  <a href="https://github.com/Reworkin/Andromeda-byond/blob/3b0c78e04fd36f9475eab5e700d67a897576bca3/code/datums/wounds/_wound_static_data.dm#L162"><img src="git.png" width="16" height="16" title="code/datums/wounds/_wound_static_data.dm 162"></a></aside></h3><p>Простой геттер для [threshold_minimum], с предоставленными аргументами для возможности кастомного поведения.</p>
<p>Аргументы:</p>
<ul>
<li>obj/item/bodypart/part: Конечность, к которой мы рассматриваем возможность добавления.</li>
<li>attack_direction: Направление атаки, которая создала бы нас. Может быть null.</li>
<li>damage_source: Источник урона, который вызвал бы нас. Может быть null.</li>
</ul><h3 id="proc/get_weight"><aside class="declaration">proc </aside>get_weight<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/bodypart.html">bodypart</a>/limb, woundtype, damage, attack_direction, damage_source)  <a href="https://github.com/Reworkin/Andromeda-byond/blob/3b0c78e04fd36f9475eab5e700d67a897576bca3/code/datums/wounds/_wound_static_data.dm#L145"><img src="git.png" width="16" height="16" title="code/datums/wounds/_wound_static_data.dm 145"></a></aside></h3><p>Простой геттер для [weight], с предоставленными аргументами для возможности кастомного поведения.</p>
<p>Аргументы:</p>
<ul>
<li>obj/item/bodypart/limb: Конечность, к которой мы рассматриваем возможность добавления. Может быть null.</li>
<li>woundtype: Тип ранения предполагаемой атаки, которая создала бы нас. Может быть null.</li>
<li>damage: Сырой урон, который вызвал бы нас. Может быть null.</li>
<li>attack_direction: Направление атаки, которая вызвала бы нас. Может быть null.</li>
<li>damage_source: Сущность, которая вызвала бы нас. Может быть null.</li>
</ul>
<p>Возвращает:
Наш вес.</p><h3 id="proc/wounding_types_valid"><aside class="declaration">proc </aside>wounding_types_valid<aside>(suggested_wounding_type)  <a href="https://github.com/Reworkin/Andromeda-byond/blob/3b0c78e04fd36f9475eab5e700d67a897576bca3/code/datums/wounds/_wound_static_data.dm#L149"><img src="git.png" width="16" height="16" title="code/datums/wounds/_wound_static_data.dm 149"></a></aside></h3><p>Возвращает TRUE, если мы используем WOUND_ALL или наш тип ранения</p></main><footer>tgstation.dme <a href="https://github.com/Reworkin/Andromeda-byond/tree/3b0c78e04fd36f9475eab5e700d67a897576bca3">3b0c78e</a> (main) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>