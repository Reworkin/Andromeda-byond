<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/scar - Космическая Стацния 13</title></head><body><header><a href="index.html">Космическая Стацния 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/scar.html#var">Var Details</a> - <a href="datum/scar.html#proc">Proc Details</a></header><main><h1>scar <aside>/<a href="datum.html">datum</a>/<a href="datum/scar.html">scar</a></aside> <a href="https://github.com/Reworkin/Andromeda-byond/blob/3b0c78e04fd36f9475eab5e700d67a897576bca3/code/datums/wounds/scars/_scars.dm#L9"><img src="git.png" width="16" height="16" title="code/datums/wounds/scars/_scars.dm 9"></a></h1><p>Шрамы - это косметические данные, которые присваиваются частям тела после заживления ран. Каждый тип раны и её степень тяжести имеют собственное описание того, как выглядит шрам,
и затем каждая часть тела имеет список &quot;конкретных местоположений&quot;, таких как локоть, запястье или где бы то ни было, где может появиться шрам, чтобы сделать его более интересным, чем просто &quot;правая рука&quot;.</p>
<p>Аргументы:</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/scar.html#var/check_any_biostates">check_any_biostates</a></th><td>Если FALSE, мы будем проверять, имеет ли конечность ВСЕ наши биологические состояния, а не ЛЮБОЕ из них.</td></tr><tr><th><a href="datum/scar.html#var/coverable">coverable</a></th><td>Может ли этот шрам быть фактически скрыт одеждой</td></tr><tr><th><a href="datum/scar.html#var/description">description</a></th><td>Описание шрама для осмотра</td></tr><tr><th><a href="datum/scar.html#var/fake">fake</a></th><td>Предполагается, что эти шрамы являются следствием маскировки генокрадов, а не постоянными или от ран. Как таковые, они удаляются при сбросе маскировки генокрадов и игнорируются системой сохранения.</td></tr><tr><th><a href="datum/scar.html#var/persistent_character_slot">persistent_character_slot</a></th><td>Если мы постоянный шрам или можем им стать, мы сохраняемся в этом слоте персонажа</td></tr><tr><th><a href="datum/scar.html#var/precise_location">precise_location</a></th><td>Строка, детализирующая конкретную часть части тела, на которой находится шрам, для атмосферности. См. <a href="datum/scar.html#proc/generate" title="/datum/scar">/datum/scar/proc/generate</a></td></tr><tr><th><a href="datum/scar.html#var/required_limb_biostate">required_limb_biostate</a></th><td>Биологические состояния, которые требуются от конечности, чтобы нанести на неё наш шрам.</td></tr><tr><th><a href="datum/scar.html#var/severity">severity</a></th><td>Степень тяжести шрама, полученная из наихудшей степени тяжести раны до её заживления (см.: порезы). Определяет, насколько видимым/выраженным является описание шрама.</td></tr><tr><th><a href="datum/scar.html#var/visibility">visibility</a></th><td>На каком расстоянии в клетках кто-то может увидеть этот шрам, увеличивается с тяжестью. Одежда, покрывающая эту конечность, будет уменьшать видимость на 1 за каждый предмет, кроме головы/лица, где проверка является бинарной &quot;маска закрывает лицо&quot;.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/scar.html#proc/format">format</a></th><td>Используется для форматирования шрама для сохранения: либо для постоянных шрамов, либо для маскировок генокрадов</td></tr><tr><th><a href="datum/scar.html#proc/format_amputated">format_amputated</a></th><td>Используется для форматирования шрама для сохранения в настройках для постоянных шрамов (ампутированных конечностей)</td></tr><tr><th><a href="datum/scar.html#proc/generate">generate</a></th><td>generate() используется для фактического заполнения информации о шраме в соответствии с переданной конечностью и раной.</td></tr><tr><th><a href="datum/scar.html#proc/get_examine_description">get_examine_description</a></th><td>Что будет показано в examine_more(), если этот шрам видим</td></tr><tr><th><a href="datum/scar.html#proc/is_visible">is_visible</a></th><td>Виден ли шрам в данный момент смотрящему</td></tr><tr><th><a href="datum/scar.html#proc/lazy_attach">lazy_attach</a></th><td>Используется, когда мы финализируем шрам от заживающего пореза</td></tr><tr><th><a href="datum/scar.html#proc/load">load</a></th><td>Используется для &quot;загрузки&quot; постоянного шрама</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/check_any_biostates"><aside class="declaration">var </aside>check_any_biostates <a href="https://github.com/Reworkin/Andromeda-byond/blob/3b0c78e04fd36f9475eab5e700d67a897576bca3/code/datums/wounds/scars/_scars.dm#L31"><img src="git.png" width="16" height="16" title="code/datums/wounds/scars/_scars.dm 31"></a></h3><p>Если FALSE, мы будем проверять, имеет ли конечность ВСЕ наши биологические состояния, а не ЛЮБОЕ из них.</p><h3 id="var/coverable"><aside class="declaration">var </aside>coverable <a href="https://github.com/Reworkin/Andromeda-byond/blob/3b0c78e04fd36f9475eab5e700d67a897576bca3/code/datums/wounds/scars/_scars.dm#L24"><img src="git.png" width="16" height="16" title="code/datums/wounds/scars/_scars.dm 24"></a></h3><p>Может ли этот шрам быть фактически скрыт одеждой</p><h3 id="var/description"><aside class="declaration">var </aside>description <a href="https://github.com/Reworkin/Andromeda-byond/blob/3b0c78e04fd36f9475eab5e700d67a897576bca3/code/datums/wounds/scars/_scars.dm#L15"><img src="git.png" width="16" height="16" title="code/datums/wounds/scars/_scars.dm 15"></a></h3><p>Описание шрама для осмотра</p><h3 id="var/fake"><aside class="declaration">var </aside>fake <a href="https://github.com/Reworkin/Andromeda-byond/blob/3b0c78e04fd36f9475eab5e700d67a897576bca3/code/datums/wounds/scars/_scars.dm#L20"><img src="git.png" width="16" height="16" title="code/datums/wounds/scars/_scars.dm 20"></a></h3><p>Предполагается, что эти шрамы являются следствием маскировки генокрадов, а не постоянными или от ран. Как таковые, они удаляются при сбросе маскировки генокрадов и игнорируются системой сохранения.</p><h3 id="var/persistent_character_slot"><aside class="declaration">var </aside>persistent_character_slot <a href="https://github.com/Reworkin/Andromeda-byond/blob/3b0c78e04fd36f9475eab5e700d67a897576bca3/code/datums/wounds/scars/_scars.dm#L26"><img src="git.png" width="16" height="16" title="code/datums/wounds/scars/_scars.dm 26"></a></h3><p>Если мы постоянный шрам или можем им стать, мы сохраняемся в этом слоте персонажа</p><h3 id="var/precise_location"><aside class="declaration">var </aside>precise_location <a href="https://github.com/Reworkin/Andromeda-byond/blob/3b0c78e04fd36f9475eab5e700d67a897576bca3/code/datums/wounds/scars/_scars.dm#L17"><img src="git.png" width="16" height="16" title="code/datums/wounds/scars/_scars.dm 17"></a></h3><p>Строка, детализирующая конкретную часть части тела, на которой находится шрам, для атмосферности. См. <a href="datum/scar.html#proc/generate" title="/datum/scar">/datum/scar/proc/generate</a></p><h3 id="var/required_limb_biostate"><aside class="declaration">var </aside>required_limb_biostate <a href="https://github.com/Reworkin/Andromeda-byond/blob/3b0c78e04fd36f9475eab5e700d67a897576bca3/code/datums/wounds/scars/_scars.dm#L29"><img src="git.png" width="16" height="16" title="code/datums/wounds/scars/_scars.dm 29"></a></h3><p>Биологические состояния, которые требуются от конечности, чтобы нанести на неё наш шрам.</p><h3 id="var/severity"><aside class="declaration">var </aside>severity <a href="https://github.com/Reworkin/Andromeda-byond/blob/3b0c78e04fd36f9475eab5e700d67a897576bca3/code/datums/wounds/scars/_scars.dm#L13"><img src="git.png" width="16" height="16" title="code/datums/wounds/scars/_scars.dm 13"></a></h3><p>Степень тяжести шрама, полученная из наихудшей степени тяжести раны до её заживления (см.: порезы). Определяет, насколько видимым/выраженным является описание шрама.</p><h3 id="var/visibility"><aside class="declaration">var </aside>visibility <a href="https://github.com/Reworkin/Andromeda-byond/blob/3b0c78e04fd36f9475eab5e700d67a897576bca3/code/datums/wounds/scars/_scars.dm#L22"><img src="git.png" width="16" height="16" title="code/datums/wounds/scars/_scars.dm 22"></a></h3><p>На каком расстоянии в клетках кто-то может увидеть этот шрам, увеличивается с тяжестью. Одежда, покрывающая эту конечность, будет уменьшать видимость на 1 за каждый предмет, кроме головы/лица, где проверка является бинарной &quot;маска закрывает лицо&quot;.</p><h2 id="proc">Proc Details</h2><h3 id="proc/format"><aside class="declaration">proc </aside>format<aside>()  <a href="https://github.com/Reworkin/Andromeda-byond/blob/3b0c78e04fd36f9475eab5e700d67a897576bca3/code/datums/wounds/scars/_scars.dm#L191"><img src="git.png" width="16" height="16" title="code/datums/wounds/scars/_scars.dm 191"></a></aside></h3><p>Используется для форматирования шрама для сохранения: либо для постоянных шрамов, либо для маскировок генокрадов</p><h3 id="proc/format_amputated"><aside class="declaration">proc </aside>format_amputated<aside>(body_zone, scar_file)  <a href="https://github.com/Reworkin/Andromeda-byond/blob/3b0c78e04fd36f9475eab5e700d67a897576bca3/code/datums/wounds/scars/_scars.dm#L195"><img src="git.png" width="16" height="16" title="code/datums/wounds/scars/_scars.dm 195"></a></aside></h3><p>Используется для форматирования шрама для сохранения в настройках для постоянных шрамов (ампутированных конечностей)</p><h3 id="proc/generate"><aside class="declaration">proc </aside>generate<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/bodypart.html">bodypart</a>/BP, /<a href="datum.html">datum</a>/<a href="datum/wound.html">wound</a>/W, add_to_scars)  <a href="https://github.com/Reworkin/Andromeda-byond/blob/3b0c78e04fd36f9475eab5e700d67a897576bca3/code/datums/wounds/scars/_scars.dm#L52"><img src="git.png" width="16" height="16" title="code/datums/wounds/scars/_scars.dm 52"></a></aside></h3><p>generate() используется для фактического заполнения информации о шраме в соответствии с переданной конечностью и раной.</p>
<p>После создания шрама вызовите эту процедуру, нацелившись на изувеченную часть тела с помощью заданной раны, чтобы применить шрам.</p>
<p>Аргументы:</p>
<ul>
<li>BP - Целевая часть тела</li>
<li>W - Рана, используемая для генерации информации о тяжести и описании</li>
<li>add_to_scars - Всегда должно быть TRUE, если вы не просто сохраняете шрам для последующего использования, как в случае с порезами, которые хотят сохранить шрам для наивысшей степени тяжести пореза, а не для степени тяжести, когда рана полностью зажила (вероятно, пониженной до умеренной)</li>
</ul><h3 id="proc/get_examine_description"><aside class="declaration">proc </aside>get_examine_description<aside>(/<a href="mob.html">mob</a>/viewer)  <a href="https://github.com/Reworkin/Andromeda-byond/blob/3b0c78e04fd36f9475eab5e700d67a897576bca3/code/datums/wounds/scars/_scars.dm#L152"><img src="git.png" width="16" height="16" title="code/datums/wounds/scars/_scars.dm 152"></a></aside></h3><p>Что будет показано в examine_more(), если этот шрам видим</p><h3 id="proc/is_visible"><aside class="declaration">proc </aside>is_visible<aside>(/<a href="mob.html">mob</a>/viewer)  <a href="https://github.com/Reworkin/Andromeda-byond/blob/3b0c78e04fd36f9475eab5e700d67a897576bca3/code/datums/wounds/scars/_scars.dm#L170"><img src="git.png" width="16" height="16" title="code/datums/wounds/scars/_scars.dm 170"></a></aside></h3><p>Виден ли шрам в данный момент смотрящему</p><h3 id="proc/lazy_attach"><aside class="declaration">proc </aside>lazy_attach<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/bodypart.html">bodypart</a>/BP, /<a href="datum.html">datum</a>/<a href="datum/wound.html">wound</a>/W)  <a href="https://github.com/Reworkin/Andromeda-byond/blob/3b0c78e04fd36f9475eab5e700d67a897576bca3/code/datums/wounds/scars/_scars.dm#L102"><img src="git.png" width="16" height="16" title="code/datums/wounds/scars/_scars.dm 102"></a></aside></h3><p>Используется, когда мы финализируем шрам от заживающего пореза</p><h3 id="proc/load"><aside class="declaration">proc </aside>load<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/bodypart.html">bodypart</a>/BP, version, description, specific_location, severity, required_limb_biostate, char_slot, check_any_biostates)  <a href="https://github.com/Reworkin/Andromeda-byond/blob/3b0c78e04fd36f9475eab5e700d67a897576bca3/code/datums/wounds/scars/_scars.dm#L109"><img src="git.png" width="16" height="16" title="code/datums/wounds/scars/_scars.dm 109"></a></aside></h3><p>Используется для &quot;загрузки&quot; постоянного шрама</p></main><footer>tgstation.dme <a href="https://github.com/Reworkin/Andromeda-byond/tree/3b0c78e04fd36f9475eab5e700d67a897576bca3">3b0c78e</a> (main) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>